!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e9f5c23e-d860-49dd-8a39-107566e5caa9",e._sentryDebugIdIdentifier="sentry-dbid-e9f5c23e-d860-49dd-8a39-107566e5caa9")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8099],{93682:function(e,t,r){r.d(t,{U:function(){return a},w:function(){return o}});let o=200,a=200},88099:function(e,t,r){r.d(t,{l:function(){return eV},Y:function(){return e3}});var o=r(97458),a=r(57291),l=r(98821),n=r.n(l),i=r(58058),s=r.n(i),c=r(52983),u=r(30948),d=r(64237),m=r(36244),_=r(41581),p=r(3223),h=r(16614),w=r(31760),f=r(70870),g=r(77475),x=r(20339),b=r(50987),v=r(65122),y=r(63081),j=r(33247),k=r(61821),N=r(52294),C=r(41776),T=r(4784),R=r(770),I=r(9249),z=r(30061),D=r(10893),E=r(59470);let O=()=>{let{t:e}=(0,D.$G)("common");return(0,o.jsxs)("span",{className:E.q,children:[(0,o.jsx)(I.T,{children:e("disneyResource")}),(0,o.jsx)(R.J,{as:z.Z,size:"3xs",className:"text-white"})]})},A=e=>{var t,r,a,l;let{resource:n,isDisneyResource:i=!1}=e,s=(0,v.e)(),{contentGroup:c}=(0,k.hv)(n),u=(0,j.R)(),{premium:d,isAIGenerated:m,authorName:_,type:p}=n;if(!d&&!m&&!i)return;let h=d&&s,w=n.isEditableInMockup?"mockups":null,f=n.isEditableInWepik?"templates":null,g=null!==(l=null!=w?w:f)&&void 0!==l?l:"premium_regular",x=u({type:p,authorName:_,isPremium:!0,isAIGenerated:m,eventName:"download__thumbnail_crown"});return x.append("origin","".concat(y.Ej,"_").concat(g)),(0,o.jsxs)(o.Fragment,{children:[h&&(0,o.jsx)("span",{className:E.q,children:(0,o.jsx)(T.s,{})}),d&&!h&&(0,o.jsx)("span",{className:E.q,children:(0,o.jsx)(C.w,{resource:{id:n.id,name:n.name,mediaUrl:null===(t=n.preview)||void 0===t?void 0:t.url,mediaHeight:null===(r=n.preview)||void 0===r?void 0:r.height,mediaWidth:null===(a=n.preview)||void 0===a?void 0:a.width,resourceType:"regular"},urlParams:x,category:c})}),m&&(0,o.jsx)(N.N,{}),i&&(0,o.jsx)(O,{})]})},U=(e,t)=>{let{width:r}=(0,f.n)(e),{width:o}=(0,f.n)(null!=t?t:{current:null});return r?r-(null!=o?o:0)-16-15:0},P=(e,t)=>{let[r,o]=(0,c.useState)(3);return(0,c.useEffect)(()=>{if(!(null==t?void 0:t.current))return;let{scrollWidth:r}=t.current,a=e-25;if(a<=0){o(1);return}if(r>a){o(e=>Math.max(e-1,1));return}r+80<=a&&o(e=>Math.min(e+1,3))},[e,t]),r};var L=r(3999),S=r(51780),G=r(95797),H=r(85e3),M=r(30143);let J=e=>{let[t,r]=(0,c.useState)("");return(0,c.useEffect)(()=>{{let t=new URLSearchParams(window.location.hash.substring(1)).get(e);null!==t&&r(t)}},[e]),t},W=e=>{var t;let{resourceId:r,resourceUrl:o,previewUrl:a,isModal:l,position:n,fromView:i,action:s}=e,c=(0,S.useRouter)(),u=null!==(t=(0,H.Jn)("term"))&&void 0!==t?t:"",d=J("from_element"),m=(0,M.fb)(r,o,{fromView:i,position:n,fromElement:d,query:u}),_=K({previewUrl:a,resourceId:r,isModal:l,action:s});return l?{href:{pathname:c.pathname,query:c.query},as:m,shallow:!0,scroll:!1,onClick:_}:{href:m,onClick:_}},K=e=>{let{previewUrl:t,resourceId:r,isModal:o,action:a}=e,l=(0,L.u)({previewUrl:t});return(0,G.Z)({itemId:r,isModal:o,previewUrlParams:l.includes("?")?new URLSearchParams(l.split("?")[1]).toString():"",action:a})};var Z=r(45388),q=r(23113),$=r(34854),B=r(71136),F=r(87591),V=r(50829),Q=r(17722),Y=r(30569),X=r(35103);let ee=e=>{let{onDownload:t,isDownloading:r,premium:a,className:l,iconSize:n,creditCost:i}=e,{t:s}=(0,D.$G)(["detailCommon","common"]),c=(0,q.a)("lg"),u=(0,$.nD)(),d=(0,V.C)(),m=(0,X.O)(a),_=(0,o.jsx)(Y.K,{iconName:"download",onClick:t,dataCy:"download-thumbnail",disabled:!!m||r,loading:r,className:l,iconSize:n,children:(0,o.jsx)(I.T,{children:s("detailCommon:download")})});return c?m?(0,o.jsx)(Q.B,{blockStatus:m,container:u.current,children:_}):(0,o.jsx)(B.u,{disableHoverableContent:!0,content:(0,o.jsxs)("span",{className:"flex items-center gap-2",children:[s("detailCommon:download"),d&&(0,o.jsx)(F.L,{creditCost:i,className:"bg-surface-foreground-2"})]}),contentProps:{side:"bottom",size:"sm"},showArrow:!1,children:(0,o.jsx)("div",{children:_})}):_};var et=r(85229),er=r(46700),eo=r(65724),ea=r(35576),el=r(24278),en=r(75045);let ei=(e,t)=>{let{id:r,name:o,author:a,type:l,premium:n,isAIGenerated:i,url:s,preview:u,isEditableInMockup:m,isEditableInWepik:_}=e,p=(0,j.R)(),{isUserWinback:h,showWinbackModal:w}=(0,et.l)(),f=p({authorName:a.name,isPremium:n,isAIGenerated:i,type:l,subtype:(0,d.y)({isEditableInWepik:_,isEditableInMockup:m}),eventName:"download__thumbnail"}),{isDownloading:g,handleDownload:x}=(0,en.i)({resource:{id:r,name:o,author:a,premium:n,regularType:l,isAIGenerated:i,url:s,preview:u,type:l},location:"resource_thumbnail",checkoutQueryParams:f,showAttributionModal:!1,searchExpression:t}),y=(0,er.V)(),k=(0,ea.mS)(),N=(0,v.e)(),{contentGroup:C}=(0,el.hv)({id:r,type:l,isAIGenerated:i,premium:n,isEditableInMockup:m,isEditableInWepik:_}),T=(0,eo.W)(r,C,"resource_thumbnail"),{showAttribution:R}=(0,b.J)(),I=(0,c.useCallback)(()=>{k({resourceId:r,isResourcePremium:n,resourceType:l,downloadType:"download"})},[k,r,n,l]);return{isDownloading:g,handleDownloadFromThumbnail:(0,c.useCallback)(async()=>{if(h){w();return}if(!N&&n){T({origin:"resource_thumbnail_premium",resourceData:{name:o,mediaUrl:u.url,mediaWidth:u.width,mediaHeight:u.height,resourceType:"regular"},checkoutQueryParams:f,onButtonClick:I});return}let e=await x();e&&(y(e.url,e.filename),R())},[h,N,n,x,w,T,o,u.url,u.width,u.height,f,I,y,R])}};var es=r(67651),ec=r(95733),eu=r(38741),ed=r(18666),em=r(45299);let e_=e=>{let{item:t,isCollectionItem:r,isCuratedCollection:a,openModal:l}=e,{id:n,name:i,author:s,type:c,premium:u,isAIGenerated:d,url:_,preview:p,isEditableInMockup:h,isEditableInWepik:w,creditCost:f}=t,{url:g,height:x,width:b}=p,v=!(0,es.h)(s.id),{isDownloading:y,handleDownloadFromThumbnail:j}=ei({id:n,name:i,author:s,type:null!=c?c:"photo",premium:u,isAIGenerated:d,url:_,preview:{url:g,height:x,width:b},isEditableInMockup:h,isEditableInWepik:w},(0,H.pt)()),k=(0,ec.E)(),N=(0,m.G)(),C=!k||k&&n!==N;return(0,o.jsxs)("div",{className:"flex flex-row gap-1",children:[C&&(0,o.jsx)(ed.B,{id:n,name:i,preview:p,inThumbnail:!0,showLabel:!1,type:c,tooltipProps:{side:"bottom",size:"sm"},as:Y.K}),(!r||a)&&(0,o.jsx)(eu.D,{type:t.type,id:t.id,location:"thumbnail",renderTrigger:e=>{let{onClick:t,ref:r}=e;return(0,o.jsx)(em.P,{onClick:t,ref:r})}}),r&&!a&&(0,o.jsx)(Z.Q,{openModal:l,resourceId:t.id,resourceType:t.type}),v&&(0,o.jsx)(ee,{onDownload:j,isDownloading:y,premium:u,creditCost:f})]})};var ep=r(90715),eh=r(86101),ew=r(43192),ef=r(27793),eg=r(91394),ex=r(25983);let eb=(e,t,r)=>{let o=(0,el.m6)(t),a=(0,ex.L3)(),{loginUrl:l,setLoginCookies:n}=(0,ef.J)(),i=(0,eg.d)(),s=(0,ea.mS)(),c=()=>o?r:o?i||t?r:(n(),l):"".concat(a("/pricing"),"/").concat(e,"?origin=freepik_web");return()=>{if(!o){s({resourceId:e,isResourcePremium:t,resourceType:"template"}),window.location.href=c();return}window.location.href=c()}},ev=e=>{let{id:t,premium:r,urlEditor:a}=e,{t:l}=(0,D.$G)("common"),n=(0,q.a)("lg"),i=eb(t,r,a),s=(0,o.jsx)(ew.T,{label:l("editOnline"),dataCy:"edit-online-thumbnail",onClick:i});return n?(0,o.jsx)(eh.u,{side:"left",trigger:s,triggerAsChild:!0,hideOnLeaveHover:!0,children:l("editOnline")}):s};var ey=r(39230),ej=r(2200),ek=r(30088),eN=r(80751);let eC=(e,t)=>{let r=(0,v.e)(),o=(0,eN.H)(),a=!t||r;return(0,c.useMemo)(()=>o({tool:e,canUserDownloadResource:a}),[e,a,o])};var eT=r(58984);let eR=e=>{let{tool:t,resource:r}=e;return(0,eT.I)({tool:t,location:"thumbnail",resource:r})};var eI=r(82060);let ez=e=>{let{resource:t}=e,{t:r}=(0,D.$G)("editTools"),a=eR({tool:{name:"assistant"},resource:t}),{blockStatus:l}=eC("assistant",t.premium),n=(0,ej.n)();return(0,o.jsx)(Q.B,{blockStatus:l,container:n.current,children:(0,o.jsxs)("button",{className:eI.tw,onClick:()=>a(),disabled:!!l,"data-cy":"thumbnail-menu-assistant",children:[(0,o.jsx)(R.J,{as:ek.Z,size:"sm"}),(0,o.jsx)("span",{children:r("assistant.nameE")})]})})};var eD=r(36815),eE=r(27488);let eO=e=>{let{resource:t}=e,{t:r}=(0,D.$G)("editTools"),a=eR({tool:{name:"imageEditor"},resource:t}),{blockStatus:l}=eC("imageEditor",t.premium),n=(0,ej.n)(),i=(0,v.e)();return(0,o.jsx)(Q.B,{blockStatus:l,container:n.current,children:(0,o.jsxs)("button",{className:eI.tw,onClick:()=>a(),disabled:!!l,"data-cy":"thumbnail-menu-edit-with-ai",children:[(0,o.jsx)(R.J,{as:eE.Z,size:"sm"}),(0,o.jsx)("span",{children:r("imageEditor.nameC")}),!i&&(0,o.jsx)(eD.ZP,{name:"crown-filled-medium",size:"xs",className:"ml-auto text-premium-0 opacity-0 group-hover:opacity-100"})]})})};var eA=r(41937),eU=r(90312),eP=r(9382);let eL=e=>{let{resourceId:t,resourceUrl:r,previewUrl:a,position:l,fromView:n,isModal:i,isPremium:s,isCollectionItem:c=!1}=e,{t:u}=(0,D.$G)("editTools"),d=(0,eA.I)(),{setLoginCookies:m,signUpUrl:_}=(0,eU.e)(),p=(0,X.O)(s),h=(0,$.nD)(),w=(0,S.useRouter)(),f=W({resourceId:t,resourceUrl:r,previewUrl:a,isModal:i,position:l,fromView:n,action:"remove-background"});return(0,o.jsx)(Q.B,{blockStatus:p,container:h.current,children:(0,o.jsxs)("button",{type:"button",onClick:e=>{if(d){e.preventDefault(),m(),window.location.href=_;return}if(p){e.preventDefault();return}if(c){w.push("".concat(r,"?action=remove-background"));return}f.onClick(e)},className:eI.tw,"data-cy":"menu-remove-background",disabled:!!p,children:[(0,o.jsx)(R.J,{as:eP.Z,size:"sm"}),(0,o.jsx)("span",{children:u("removeBackground.nameE")})]})})};var eS=r(14335);let eG=e=>{let{resource:t}=e,{t:r}=(0,D.$G)("editTools"),a=eR({tool:{name:"styleReference"},resource:t}),{blockStatus:l}=eC("styleReference",t.premium),n=(0,ej.n)(),i=(0,v.e)();return(0,o.jsx)(Q.B,{blockStatus:l,container:n.current,children:(0,o.jsxs)("button",{className:eI.tw,onClick:()=>a(),disabled:!!l,"data-cy":"thumbnail-menu-style-reference",children:[(0,o.jsx)(R.J,{as:eS.Z,size:"sm"}),(0,o.jsx)("span",{children:r("styleReference.name")}),!i&&(0,o.jsx)(eD.ZP,{name:"crown-filled-medium",size:"xs",className:"ml-auto text-premium-0 opacity-0 group-hover:opacity-100"})]})})};var eH=r(7616),eM=r(7526),eJ=r(31861);let eW=(e,t)=>["psd","vector"].includes(e)&&t,eK=()=>{let[e]=(0,eH.KO)(eJ.GD);return(0,c.useCallback)((t,r)=>{let o=""===e?"".concat(eM.KK).concat(t):"".concat(eM.KK).concat(t,"?searchTerm=").concat(e),a="".concat(eM.Iq).concat(t,"&provider=fp");return r?o:a},[e])},eZ=e=>{let{resource:t}=e,{t:r}=(0,D.$G)("editTools"),a=(0,ej.n)(),l=eR({tool:{name:"useAsReference"},resource:t}),{blockStatus:n}=eC("useAsReference",t.premium);return(0,o.jsx)(Q.B,{blockStatus:n,container:a.current,children:(0,o.jsx)(ew.T,{onClick:()=>l(),disabled:!!n,dataCy:"thumbnail-use-as-reference",label:r("useAsReference"),iconLeftName:"search-by-image"})})},eq=(0,c.forwardRef)((e,t)=>{let{thumbnailRef:r,item:a,position:l,isModal:n,fromView:i,isCollectionItem:s=!1}=e,{id:c,name:u,author:d,premium:m,isAIGenerated:_,type:p,url:h,preview:w,isEditableInMockup:f,isEditableInWepik:g}=a,x={id:c,name:u,author:d,premium:m,isAIGenerated:_,preview:w,type:p,url:h},b=g||f,v=eK(),y=(0,ep.n)({type:p,isEditableInMockup:f,isEditableInWepik:g,authorId:d.id}),j=eW(p,b),k=(0,ec.E)();return(0,o.jsxs)("div",{ref:t,className:"flex flex-row gap-1",children:[k&&(0,o.jsx)(eZ,{resource:{id:c,name:u,type:p,premium:m,isAIGenerated:_,preview:w,url:h,author:d}}),y&&!j&&(0,o.jsxs)(ey.$,{thumbnailRef:r,vertical:"regular",children:[(0,o.jsx)(eL,{resourceId:c,resourceUrl:h,position:l,isModal:n,fromView:i,previewUrl:w.url,isPremium:m,isCollectionItem:s}),(0,o.jsx)(eO,{resource:x}),(0,o.jsx)(eG,{resource:x}),(0,o.jsx)(ez,{resource:x})]}),j&&!k&&(0,o.jsx)(ev,{premium:m,id:c,urlEditor:v(c,g)})]})}),e$=e=>{let{type:t,name:r,isPremium:o,fromView:a}=e,{t:l}=(0,D.$G)("common");if(!a||"keyword"!==a)return r;let n=r.toLowerCase(),i=l("regularTypeTitleQuantities.".concat(t,"_one"));return o?"".concat(i," ").concat(n):"".concat(l("seoRuleAlt",{type:i})," ").concat(n)},eB=(0,a.j)("block rounded object-cover object-center",{variants:{resizeIn:{width:"size-full",height:"h-full w-auto"}}}),eF=(0,c.forwardRef)((e,t)=>{let{item:r,position:l,fromView:i,isModal:f=!1,dataCy:x,priority:v,resizeParameter:y="width",isCuratedCollection:j,openModal:k,isCollectionItem:N=!1}=e,{preview:C,name:T,premium:R,type:I,author:z,id:D,isAIGenerated:E,url:O,topSearchExpressions:S,isEditableInMockup:G,isEditableInWepik:H}=r,M="keyword"===i,[J,K]=(0,c.useState)(!1),{url:Z,width:q,height:$}=C,B=(0,c.useRef)(null),F=(0,c.useRef)(null),V=P(U(t,B),F),{attributionEnabled:Q}=(0,b.J)(),Y=z.id===u.c,X=W({resourceId:r.id,resourceUrl:r.url,previewUrl:Z,isModal:f,position:l,fromView:i}),ee=(0,L.u)({previewUrl:Z}),et=(0,d.y)({isEditableInMockup:G,isEditableInWepik:H}),er=e$({type:I,name:T,isPremium:R,fromView:i}),eo=(0,p.z)({id:r.id,type:r.type,premium:r.premium,position:null!=l?l:0}),ea=(0,c.useCallback)(()=>{"function"==typeof eo&&eo(),K(!0)},[eo]),el=(0,_.t)(D,I),en=(0,m.G)();return(0,o.jsx)(h.u,{ref:t,dataCy:x,dataAuthor:z.id.toString(),primaryActions:(0,o.jsx)(e_,{item:r,isCuratedCollection:j,openModal:k,isCollectionItem:N}),secondaryActions:(0,o.jsx)(eq,{thumbnailRef:t,ref:B,item:r,position:l,isModal:f,fromView:i,isCollectionItem:N}),fixedSecondaryActions:D===en&&(0,o.jsx)(eZ,{resource:{id:D,name:T,type:I,premium:R,isAIGenerated:E,preview:C,url:O,author:z}}),information:J&&(0,o.jsx)(A,{resource:{...r,authorName:r.author.name},isDisneyResource:Y}),searchExpressions:M&&(0,o.jsx)(w.k,{items:S,style:"new",maxTags:V,tagsContainerRef:F}),attribution:Q&&(0,o.jsx)(g.i,{authorId:z.id,authorName:z.name,resourceUrl:O,resourceId:D,resourceName:T,mediaUrl:Z,mediaWidth:q,mediaHeight:$,isAIGenerated:E,isPremium:R,resourceType:I,subtype:et}),children:(0,o.jsxs)(s(),{...X,className:(0,a.cx)("relative z-0 block h-full overflow-hidden rounded-xl","width"===y?"":"h-full"),prefetch:!1,children:[(0,o.jsx)(n(),{src:ee,alt:er,width:q,height:$,className:(0,a.cx)(eB({resizeIn:y})),priority:v,onLoad:ea,suppressHydrationWarning:!0,onError:el}),(0,o.jsx)("div",{className:"absolute inset-0 z-0","aria-hidden":"true"})]})})}),eV=(0,c.forwardRef)((e,t)=>{let{height:r}=(0,f.n)(t);return(0,o.jsx)(x.l,{thumbnailHeight:null!=r?r:0,children:(0,o.jsx)(eF,{...e,ref:t})})});var eQ=r(33523),eY=r(72570),eX=r(93682);let e0=e=>{let{item:t,isDownloadEnabled:r}=e,{id:a,name:l,author:n,type:i,premium:s,isAIGenerated:c,url:u,preview:d,isEditableInMockup:_,isEditableInWepik:p,creditCost:h}=t,{url:w,height:f,width:g}=d,{isDownloading:x,handleDownloadFromThumbnail:b}=ei({id:a,name:l,author:n,type:null!=i?i:"photo",premium:s,isAIGenerated:c,url:u,preview:{url:w,height:f,width:g},isEditableInMockup:_,isEditableInWepik:p},(0,H.pt)()),v=(0,ec.E)(),y=(0,m.G)(),j=!v||v&&a!==y;return(0,o.jsxs)("div",{className:"flex flex-row gap-1",children:[j&&(0,o.jsx)(ed.B,{id:a,name:l,preview:d,inThumbnail:!0,showLabel:!1,type:i,tooltipProps:{side:"bottom",size:"sm"},as:Y.K}),r&&(0,o.jsx)(ee,{onDownload:b,isDownloading:x,premium:s,creditCost:h})]})},e1=e=>{let{item:t,isDownloadEnabled:r}=e,{id:a,premium:l,isEditableInMockup:n,isEditableInWepik:i,type:s}=t,c=eK(),u=eW(s,i||n);return!r&&u?(0,o.jsx)("div",{className:"flex flex-row gap-1",children:(0,o.jsx)(ev,{premium:l,id:a,urlEditor:c(a,i)})}):null},e2=(0,c.forwardRef)((e,t)=>{var r,a;let{item:l,categoryGAEvent:i,fromElement:m}=e,{id:_,type:p,preview:w,url:f,author:x,name:v,isAIGenerated:y,premium:j,isEditableInMockup:N,isEditableInWepik:C}=l,T="".concat(f).concat(m?"#from_element=".concat(m):""),R=null!==(r=null==w?void 0:w.url)&&void 0!==r?r:"",I=x.id===u.c,z=!(0,es.h)(x.id),{width:D,height:E}=null!=w?w:{width:eX.U,height:eX.w,url:""},O=D/E,U=eX.w*O,[P,L]=(0,c.useState)(!1),{isLoading:G,loaded:H}=(0,eY._)(R),M=(0,ea.O5)(),J=(0,S.useRouter)(),W=(0,k.Zh)({itemId:_,isModal:!0}),{attributionEnabled:K}=(0,b.J)(),Z=(0,d.y)({isEditableInMockup:N,isEditableInWepik:C});return(0,o.jsx)(h.u,{ref:t,dataCy:"related-thumbnail",dataAuthor:x.id.toString(),primaryActions:(0,o.jsx)(e0,{item:l,isDownloadEnabled:z}),secondaryActions:(0,o.jsx)(e1,{item:l,isDownloadEnabled:z}),information:P&&(0,o.jsx)(A,{resource:{...l,authorName:l.author.name},isDisneyResource:I}),attribution:K&&(0,o.jsx)(g.i,{authorId:x.id,authorName:x.name,resourceUrl:f,resourceId:_,resourceName:v,mediaUrl:null!==(a=null==w?void 0:w.url)&&void 0!==a?a:"",mediaWidth:D,mediaHeight:E,isAIGenerated:y,isPremium:j,resourceType:p,subtype:Z}),children:(0,o.jsxs)(s(),{href:{pathname:J.pathname,query:J.query},as:T,shallow:!0,scroll:!1,className:'relative block h-[200px] overflow-hidden rounded-xl before:absolute before:inset-0 before:opacity-0 before:content-[""] hover:before:opacity-20',prefetch:!1,onClick:e=>{i&&M(_,i,p),W(e)},children:[G&&w&&(0,o.jsx)(eQ.O.Rect,{style:{width:U,height:eX.w}}),(0,o.jsx)(n(),{className:e5({show:!G}),src:R,alt:v,onLoad:()=>{H(),L(!0)},width:U,height:eX.w,quality:90,loading:"lazy"}),(0,o.jsx)("div",{className:"absolute inset-0","aria-hidden":"true"})]})})}),e3=e=>{let t=(0,c.useRef)(null),{height:r}=(0,f.n)(t);return(0,o.jsx)(x.l,{thumbnailHeight:null!=r?r:0,children:(0,o.jsx)(e2,{...e,ref:t})})},e5=(0,a.j)("h-full object-cover",{variants:{show:{false:"absolute opacity-0"}}})},21255:function(e,t,r){r.d(t,{k:function(){return s}});var o=r(68147),a=r(26219),l=r(83380),n=r(5704),i=r(7009);let s=e=>{let t=(0,l.Z)(),r=(0,n.Jn)("term"),s=(0,o.I)()||0,c=(0,i.J)();return(o,l)=>{let n="term-related&language=".concat(t,"&ref=").concat(r,"&rel=").concat(l,"&ori=").concat(e,"&pos=").concat(o+1,"&uid=").concat(s).concat(c);(0,a.O)(encodeURI(n.toLowerCase()))}}},31760:function(e,t,r){r.d(t,{k:function(){return u}});var o=r(97458),a=r(25983),l=r(52983),n=r(86436),i=r(21255),s=r(5704);let c={psd:"/psd",vector:"/vectors",photo:"/photos",font:"/fonts"},u=e=>{var t;let{items:r,maxTags:u=3,style:d="old",tagsContainerRef:m}=e,_=c[null!==(t=(0,s.Jn)("type"))&&void 0!==t?t:""]||"/free-photos-vectors",p=(0,a.L3)()(_),h=(0,i.k)("tag"),w=(0,l.useMemo)(()=>r?r.slice(0,u).map(e=>{var t;let r="".concat(p,"/").concat(e.slug),o="".concat(_,"/").concat(e.slug);return{name:e.name,href:null!==(t=e.url)&&void 0!==t?t:o,as:r}}):[],[r,u,p,_]);return!r||0===r.length||u<=0?null:(0,o.jsx)("div",{ref:m,children:(0,o.jsx)(n.L,{tags:w,theme:"old"===d?"dark":"transparent",onTagClick:(e,t)=>{h(e,t.name)},className:"relative mt-4 flex size-full flex-wrap gap-3"})})}},58984:function(e,t,r){r.d(t,{I:function(){return w}});var o=r(65122),a=r(69762),l=r(43186),n=r(52983),i=r(33961),s=r(64458);let c=(e,t)=>{let r=u(e,t),o=d(e);if(!r)throw Error("There are no download parameters for ".concat(e.name," in ").concat(t));return{action:r,modifier:o}},u=(e,t)=>{var r;let o=null===(r=m[e.name])||void 0===r?void 0:r[t];if(!o)throw Error("There are no download parameters for ".concat(e.name," in ").concat(t));return o},d=e=>{if("workflow"===e.name){let t=_[e.subOption];if(!t)throw Error("There are no download parameters for workflow with ".concat(e.subOption));return t}},m={retouch:{detail:"ai_tool_retouch",postDownload:"ai_tool_retouch_after_download"},expand:{detail:"ai_tool_expand",postDownload:"ai_tool_expand_after_download"},reimagine:{detail:"ai_tool_reimagine",postDownload:"ai_tool_reimagine_after_download"},adjust:{detail:"ai_tool_adjust",postDownload:"ai_tool_adjust_after_download",thumbnail:"ai_tool_adjust_thumbnail"},replacebg:{detail:"ai_tool_replacebg"},video:{detail:"ai_tool_video",postDownload:"ai_tool_video_after_download"},assistant:{detail:"ai_tool_assistant",thumbnail:"ai_tool_assistant_thumbnail"},generatePrompt:{detail:"ai_tool_generate_prompt"},styleReference:{detail:"ai_tool_generate_style_ref",postDownload:"ai_tool_generate_style_ref_after_download",thumbnail:"ai_tool_generate_style_ref_thumbnail"},workflow:{detail:"ai_tool_assistant"},imageEditor:{thumbnail:"ai_tool_all_thumbnail",detail:"ai_tool_all",postDownload:"ai_tool_all_after_download"},useAsReference:{detail:"ai_tool_generate_use_as_reference",thumbnail:"ai_tool_generate_image_ref",postDownload:"ai_tool_generate_image_ref_after_download"}},_={createSocialPost:"workflow_create_post",createPoster:"workflow_create_poster",mixImages:"workflow_mix_images",applyPromo:"workflow_apply_promo",createFlyer:"workflow_create_flyer",createLogoVariations:"workflow_create_logo_variations",localize:"workflow_localize",createLogo:"workflow_create_logo",applyColors:"workflow_apply_colors",replaceText:"workflow_replace_text",removeText:"workflow_remove_text",replaceElement:"workflow_replace_element",addElement:"workflow_add_element"};var p=r(75045);let h=e=>{let{tool:t,location:r,imageSrc:o,resource:a}=e,{id:u,name:d,author:m,premium:_,type:h,isAIGenerated:w,preview:f,url:g}=a,{action:x,modifier:b}=c(t,r),v=(0,s.M)({tool:t,resource:{type:h,subtype:h,authorName:m.name,isPremium:_,isAIGenerated:w}}),{handleDownload:y}=(0,p.i)({resource:{id:u,name:d,author:m,premium:_,regularType:h,isAIGenerated:w,url:g,preview:f,type:h},action:x,modifier:b,showAttributionModal:!1,skipDownloadTracker:!0,location:(0,i.d)({isResourcePremium:_,tool:t,location:r}),checkoutQueryParams:v}),j=(0,l.J)(),k=null!=o?o:f.url;return(0,n.useCallback)(async()=>{let e=await y(k);if(!(null==e?void 0:e.signedUrl))throw Error("Failed to download image");return j(),"".concat(e.signedUrl,"&w=2000&h=2000")},[k,y,j])},w=e=>{let{tool:t,location:r,imageSrc:l,extraParams:n,resource:i}=e,{id:s,premium:c,isAIGenerated:u,type:d,author:{name:m},name:_,preview:{url:p,width:w,height:f}}=i,g=(0,o.e)(),x=h({tool:t,location:r,imageSrc:l,resource:i});return(0,a.F)({tool:t,resource:{id:s,name:_,type:d,authorName:m,isPremium:c,isAIGenerated:u,groupedType:"regular",media:{url:p,width:w,height:f}},canDownloadResource:g||!c,imageSrc:l,getSignedResource:x,location:r,extraParams:n})}},15715:function(e,t,r){r.d(t,{H:function(){return a}});let o=e=>{let{resource:t,file:r,option:o,size:a,action:l,walletId:n,locale:i,modifier:s,searchExpression:c}=e,u=new URLSearchParams;return u.set("resource","".concat(t)),r&&o?(u.set("file",r),u.set("option","".concat(o))):a&&u.set("size","".concat(a)),l&&u.set("action",l),n&&u.set("walletId",n),u.set("locale",i),s&&u.set("modifier",s),c&&u.set("searchExpression",c),u.toString()},a=async e=>{let t=o(e),r=await fetch("/api/regular/download?".concat(t));return r.ok?{success:!0,data:await r.json()}:429===r.status?{success:!1,data:"DOWNLOAD_LIMIT_REACHED",metadata:"/download-limit"}:401===r.status||403===r.status||405===r.status?{success:!1,data:"AUTHENTICATION_ERROR"}:404===r.status?{success:!1,data:"NOT_FOUND"}:{success:!1,data:"UNKNOWN_ERROR"}}},75045:function(e,t,r){r.d(t,{i:function(){return D}});var o=r(72234),a=r(15880),l=r(68147),n=r(85229),i=r(25983),s=r(59608),c=r(52983),u=r(9036),d=r(35576),m=r(7526);let _=(e,t)=>t||("photo"===e?"jpg":"zip");var p=r(24278);r(97458);let h=(0,c.createContext)(null),w=()=>(0,c.useContext)(h)||{shouldTrackingLog:!0};var f=r(15715),g=r(32509),x=r(72661),b=r(72118),v=r(1850),y=r(64979),j=r(56879);let k=v.z.enum(["download","copy","edit","prompt","preview","remove_background","remove_background_edit","ai_video",y.cm,y.PF,y.p3,y.Kq,y.wK,y.os,y.H$,y.C0,y.u4,y.OI,y.Iu,y.e5,"ai_tool_retouch","ai_tool_retouch_after_download","ai_tool_expand","ai_tool_expand_after_download","ai_tool_reimagine","ai_tool_reimagine_after_download","ai_tool_adjust","ai_tool_adjust_after_download","ai_tool_replacebg","ai_tool_video","ai_tool_video_after_download","ai_tool_assistant","ai_tool_generate_prompt","ai_tool_generate_style_ref","ai_tool_generate_style_ref_after_download","ai_tool_generate_style_ref_thumbnail","ai_tool_adjust_thumbnail","ai_tool_assistant_thumbnail","ai_tool_all_thumbnail","ai_tool_all","ai_tool_generate_image_ref","ai_tool_all_after_download","ai_tool_generate_image_ref_after_download","ai_tool_generate_use_as_reference"]),N=v.z.enum(["workflow_create_post","workflow_create_poster","workflow_mix_images","workflow_apply_promo","workflow_create_flyer","workflow_create_logo_variations","workflow_localize","workflow_create_logo","workflow_apply_colors","workflow_replace_text","workflow_remove_text","workflow_replace_element","workflow_add_element"]);v.z.object({resource:v.z.coerce.number(),file:j.ru.optional(),option:v.z.coerce.number().optional(),size:v.z.coerce.number().optional(),action:k.optional(),modifier:N.optional(),walletId:v.z.string().nullable().optional(),locale:v.z.string(),searchExpression:v.z.string().optional()}),v.z.object({data:v.z.object({filename:v.z.string(),url:v.z.string(),prompt:v.z.string().optional(),signed_url:v.z.string().optional()})}).transform(e=>{let{data:t}=e;return t}).transform(e=>{let{signed_url:t,...r}=e;return{...r,signedUrl:t}});let C=v.z.array(v.z.string()),T=new Date(new Date().getTime()+48e4),R=b.Z.withConverter({write:e=>e}),I=e=>{try{let t=R.get(e);if(!t)return[];return C.parse(JSON.parse(t))}catch(e){return[]}},z=()=>{let e=(0,l.I)(),t=(0,x.b)();return(0,c.useCallback)(r=>{if(!e)return;let o="".concat("ck_items_").concat(e),a=I(o),l="".concat(r);if(!a.includes(l)){let e=JSON.stringify([...a,l]);R.set(o,e,{path:"/",domain:t,expires:T})}},[e,t])},D=e=>{let{resource:t,file:r,action:h="download",modifier:x,location:b="resource_detail",option:v,size:y,showAttributionModal:j=!0,handleError:k,checkoutQueryParams:N,skipDownloadTracker:C=!1,searchExpression:T}=e,{id:R,name:I,author:D,premium:E,regularType:O,isAIGenerated:A,url:U,type:P}=t,[L,S]=(0,c.useState)(!1),{isUserWinback:G,showWinbackModal:H}=(0,n.l)(),{showAttribution:M}=(0,p.tc)(),J=z(),W=(0,g.b)({resource:t,location:b}),K=(0,d.mS)(),{shouldTrackingLog:Z}=w(),{showDeviceBlockedModal:q,isDeviceBlocked:$}=(0,a.qx)(),B=(0,o.Lh)(),F=(0,l.I)(),V=(0,i.ZK)(),Q=(0,u.TH)({file_extension:_(O,r),file_name:I,file_id:R,license:E?"premium":"free",resolution:y?m.w8[y]:"original",style:"na",author_name:D.name,category:A?"ai_image":O,action:"prompt"===h?"view_prompt":h,location:b,url_link:U}),Y=(0,c.useCallback)(e=>{if(k){k(e);return}"prompt"!==h&&W(e,N)},[k,h,W,N]);return{handleDownload:(0,c.useCallback)(async(e,t)=>{if($){q();return}if(G){H();return}S(!0),B||s.uT("WARNING: User ".concat(F," has no wallet_id"),"warning"),Z&&!C&&K({resourceId:R,isResourcePremium:E,resourceType:P,downloadType:h,fileType:P,variant:b});let o=await (0,f.H)({resource:R,size:y?2e3:void 0,action:h,modifier:x,file:r,option:v,walletId:B,locale:V,searchExpression:T});if(o.success)return j&&M&&M(),S(!1),J(R),Q({externalUrl:null!=e?e:U,setting:t}),o.data;Y(o),S(!1)},[$,G,B,Z,C,R,y,h,x,r,v,V,T,Y,q,H,F,K,E,P,b,j,M,J,Q,U]),isDownloading:L}}},32509:function(e,t,r){r.d(t,{b:function(){return i}});var o=r(19170),a=r(10893),l=r(52983),n=r(65724);let i=e=>{var t;let{location:r,resource:i}=null!=e?e:{},{t:s}=(0,a.$G)("error"),{openToast:c}=(0,o.x_)(),u=(0,n.W)(null!==(t=null==i?void 0:i.id)&&void 0!==t?t:0,"",r);return(0,l.useCallback)((e,t)=>{if("DOWNLOAD_LIMIT_REACHED"===e.data&&i){u({resourceData:{name:i.name,mediaUrl:i.preview.url,mediaWidth:i.preview.width,mediaHeight:i.preview.height,resourceType:"regular"},checkoutQueryParams:t,modalType:"downloadLimit",origin:"download_limit"});return}if("AUTHENTICATION_ERROR"===e.data){window.location.href="/oauth-logout";return}"NOT_FOUND"===e.data&&c({type:"danger",message:s("notFound")}),"UNKNOWN_ERROR"===e.data&&c({type:"danger",message:s("unknown")})},[u,c,i,s])}},14335:function(e,t,r){var o=r(97458);t.Z=e=>(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:16,height:16,"aria-hidden":!0,...e,children:[(0,o.jsx)("path",{d:"M477 205.5c-13.8 0-25 11.2-25 25V418c0 2.2-.5 4.4-1.4 6.3l-75.9-75.9c-4.7-4.7-11-7.3-17.7-7.3s-13 2.6-17.7 7.3L306 381.6 188.7 264.3c-9.8-9.8-25.6-9.8-35.4 0L60 357.6V136c0-8.3 6.7-15 15-15h211c13.8 0 25-11.2 25-25s-11.2-25-25-25H75c-35.8 0-65 29.2-65 65v283.2c.7 35.3 29.5 63.8 65 63.8h362c35.8 0 65-29.2 65-65V230.5c0-13.8-11.2-25-25-25"}),(0,o.jsx)("path",{d:"m503.9 87.1-36.7-14c-3.4-1.3-6-3.9-7.3-7.3l-14-36.7c-4.1-10.8-19.4-10.8-23.5 0l-14 36.7c-1.3 3.4-3.9 6-7.3 7.3l-36.7 14c-10.8 4.1-10.8 19.4 0 23.5l36.7 14c3.4 1.3 6 3.9 7.3 7.3l14 36.7c4.1 10.8 19.4 10.8 23.5 0l14-36.7c1.3-3.4 3.9-6 7.3-7.3l36.7-14c10.8-4.1 10.8-19.4 0-23.5M293.8 236l21.4 8.2c3.2 1.2 5.8 3.8 7 7l8.2 21.4c4 10.4 18.8 10.4 22.7 0l8.2-21.4c1.2-3.2 3.8-5.8 7-7l21.4-8.2c10.4-4 10.4-18.8 0-22.7l-21.4-8.2c-3.2-1.2-5.8-3.8-7-7l-8.2-21.4c-4-10.4-18.8-10.4-22.7 0l-8.2 21.4c-1.2 3.2-3.8 5.8-7 7l-21.4 8.2c-10.5 4-10.5 18.8 0 22.7"})]})}}]);